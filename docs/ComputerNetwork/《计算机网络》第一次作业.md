# 第一章课后思考题

1. **根据你目前的理解，请你构想一个虚拟的网络协议，并将它用你认为恰当的方式描述出来。**

   答：下图描述了本虚拟网络协议的流程。主机1首先尝试与主机2建立连接，若能得到连接成功的Response则与主机2进行通信获得想获得的内容。
   
   ![sequence.drawio](https://qihang-1306873228.cos.ap-chongqing.myqcloud.com/imgs/sequence.drawio.svg)
   
   本虚拟网络协议的层次结构如下，主机1可以直接将文件传入文件传送模块，并指定接收方，文件传送模块根据协议1对数据处理加上头后传输到通信服务模块，通信服务模块根据协议2加上头后传输到网络接入模块进行转发。数据到达主机2后，根据协议2进行数据解析传送到通信服务模块，再根据协议1进行解析传送到文件传送模块，从而得到发送端的源数据。
   
   ![protocol.drawio](https://qihang-1306873228.cos.ap-chongqing.myqcloud.com/imgs/protocol.drawio.svg)
   
   在这个过程中，单个协议规定了数据与控制信息的结构或格式（语法），事件实现顺序（同步），“我来自”、“我要去”、“我要干嘛”等控制信息（语义）。
   
   ![header.drawio](https://qihang-1306873228.cos.ap-chongqing.myqcloud.com/imgs/header.drawio.svg)

2. **计算机网络体系结构分层次有什么好处？如果采用本教材的五层模型，你认为它们每个层次的主要任务是什么?**

   答：（1）分层次的好处是能够①将庞大而复杂的问题转化为若干较小的局部问题，各层相互独立，易于实现和维护；②灵活性好。当任意一层改变时（接口不变），那么其他层就不会受影响；③每层结构可以分隔开，使用不同的技术架构进行开发；④能促进标准化工作。

   （2）**物理层**：实现比特的传输。

   **数据链路层**：实现两个相邻节点之间的可靠通信。

   **网络层**：负责为分组交换网上的不同主机提供通信服务。

   **运输层**：负责向向两台主机中进程间的通信提供通用的数据传输服务。

   **应用层**：通过应用进程间的交互来完成特定网络应用。



3. **互联网数据传输一般采用什么交换方式？它的特点是什么？**

   答：分组交换。特点如下：

   （1）采用**存储交换**方式。将报文划分为多个小的等长数据段，并在每个数据段前加上一些必要的控制信息组成的首部后构成多个分组。发送端发出的信息会经过路由器。路由器收到一个分组，先暂时存储检查其首部，查找转发表，按照首部中的目的地址找到合适的接口转发出去。这样一步一步以存储转发的方式将分组交付到接收端。

   （2）分组交换的**优点**如下：**高效**：在分组传输的过程中动态分配传输带宽，对通信链路是逐段占用的；**灵活**：为每一个分组独立地选择最合适的转发路由；**迅速**：以分组作为传送单位，可以不先建立连接就能向其他主机发送分组；**可靠**：网络协议可靠、分布式多路由分组交换网保证网络很好的生存性。

   （3）分组交换的**缺点**如下：**时延大**：分组在各路由器存储转发时需要排队；**开销大**：分组中携带的控制信息增加了开销、分组交换网需要专门的管理和控制机制。



4. **根据你目前掌握的知识应该从哪些指标来评价一个网络的性能？**

   答：（1）**速率**（数据率、比特率）：数据的传输速率，往往是指而定速率或标称速率。这是网络**最重要**的一个性能指标。

   （2）**带宽**：①频率上，是信号具有的频带宽度，单位是赫；②时域上，是单位时间内网络中某信道所能通过的“最高数据率”，单位是比特每秒。

   （3）**吞吐量**：单位时间内通过某个网络（或信道、接口）的实际数据量。
   
   （4）**时延**：数据从网络的一端传送到另一端的时间。组成如下：①**发送时延**（传输时延）：从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间；②**传播时延**：电磁波在信道中传播一定的距离需要花费的时间；③**处理时延**：主机或路由器在收到分组时，为处理分组所花费的时间；④**排队时延**：分组在路由器输入输出队列中排队等待处理和转发所经历的时延。
   
   （5）**时延带宽积**：以比特为单位的链路长度，表示从发送端发出但尚未到达接收端的比特数。
   
   （6）**往返时间RTT**：从发送方发送完数据，到发送方收到来自接收方的确认总共经历的时间。
   
   （7）**利用率**：①**信道利用率**：某信道有百分之几的时间是被利用的；②**网络利用率**：全网络的信道利用率的加权平均值。

